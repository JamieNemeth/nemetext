name: üöÄ FTP Deploy
on: [push, workflow_dispatch]
jobs:
  ftp-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: üõí Checkout
        uses: actions/checkout@v2
      
      #- name: üíø Install Git-FTP
      #  run: sudo apt-get install git-ftp
        
      - name: üõ†Ô∏è Configure Git-FTP
        run: |
          git config git-ftp.url sftp://${{ secrets.SFTP_HOSTNAME }}:${{ secrets.SFTP_PORT }}
          git config git-ftp.user ${{ secrets.SFTP_USERNAME }}
          git config git-ftp.password ${{ secrets.SFTP_PASSWORD }}
          git config git-ftp.insecure 1
      
      - name: ‚¨ÜÔ∏è Push
        run: git ftp push --auto-init
          
      #- name: üõí Checkout
      #  uses: actions/checkout@v2
      #- name: üì¶ Get LFTP
      #  run: sudo apt install lftp
      #- name: üõ†Ô∏è Configure LFTP
      #  run: mkdir ~/.lftp && echo "set ssl:verify-certificate no; set cmd:default-protocol sftp; set sftp:auto-confirm true;" >> ~/.lftp/rc
      #- name: üîë Load Secrets
      #  run: echo "machine ${{ secrets.SFTP_HOSTNAME }} login ${{ secrets.SFTP_USERNAME }} password '${{ secrets.SFTP_PASSWORD }}'" > ~/.netrc
      #- name: üìÅ Upload Folder
      #  run: lftp -u ${{ secrets.SFTP_USERNAME }},'${{ secrets.SFTP_PASSWORD }}' -e "mirror --delete-first --no-recursion --parallel=100 -I *.tti -R ./ /" sftp://${{ secrets.SFTP_HOSTNAME }}:${{ secrets.SFTP_PORT }}
